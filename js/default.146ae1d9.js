(function(){"use strict";var p={89037:function(e,x,t){var I=t(29484),h=t(34330),g=t(37884),A=t(62453),D=t(38208),S=t(39095),T=t(39248),M=t(25637),w=t(7077),k=t(18550),ls=t(83709),q=t(51591),ds=t(80052),fs=t(11888),ys=t(79493),ms=t(43484),is=t(72597),xs=t(83303),gs=t(34266),hs=t(35139),js=t(89013),cs=t(38213),Zs=t(91284),Ss=t(95e3),Ns=t(54204),Is=t(45007),Ts=t(79268),Cs=t(37891),Rs=t(10708),As=t(56209),Os=t(67615),Ps=t(24398),Us=t(45514),Ls=t(56594),zs=t(44303),Ds=t(5398),Gs=t(97009),Fs=t(47559),Ms=t(76407),Bs=t(7435),Ws=t(85391),Hs=t(47860),Vs=t(91744),$s=t(83365),Xs=t(34828),Es=t(7943),Js=t(15600),Ys=t(39411),Ks=t(17613),Qs=t(89897),ps=t(56598),us=t(1120),bs=t(37436),ws=t(65770),ks=t(49191),qs=t(21225),_s=t(34811),ta=t(3355),sa=t(79853),aa=t(52281),na=t(97588),ra=t(45329),oa=t(31720),ea=t(67909),va=t(24699),la=t(91582),da=t(97883),fa=t(37475),ya=t(44650),ma=t(17550),ia=t(74417),xa=t(39836),ga=t(52847),ha=t(55026),ja=t(58544),ca=t(28379),Za=t(31939),Sa=t(72697),Na=t(24532),Ia=t(94853),Ta=t(52496),Ca=t(60420),Ra=t(63221),Aa=t(64149),Oa=t(36485),Pa=t(91632),Ua=t(47873),La=t(57060),za=t(52490),Da=t(98065),Ga=t(53397),Fa=t(27127),Ma=t(61631),Ba=t(87281),Wa=t(93544),Ha=t(64991),Va=t(19896),$a=t(43963),Xa=t(91825),Ea=t(61088),Ja=t(95069),Ya=t(8244),Ka=t(94396),Qa=t(97778),pa=t(56373),ua=t(35357),ba=t(85025),wa=t(60009),ka=t(33321),qa=t(26423),_a=t(21208),tn=t(94497),sn=t(76778),an=t(33426),nn=t(49026),rn=t(7216),on=t(39852),en=t(76119),vn=t(76826),ln=t(96810),dn=t(3072),fn=t(4902),yn=t(74906),mn=t(3766),xn=t(63649),gn=t(52731),hn=t(7705),jn=t(25015),cn=t(63661),Zn=t(99226),Sn=t(68338),Nn=t(10079),In=t(5566),Tn=t(44866),Cn=t(84137),Rn=t(13421),An=t(16293),On=t(39032),Pn=t(99153),Un=t(37783),Ln=t(22170),zn=t(50349),Dn=t(86050),Gn=t(97562),Fn=t(92),Mn=t(27927),Bn=t(3497),Wn=t(17850),Hn=t(76198),Vn=t(20421),$n=t(62098),Xn=t(91212),En=t(95990),Jn=t(77323),Yn=t(34309),Kn=t(55998),Qn=t(98584),pn=t(49557),un=t(47655),bn=t(50190),wn=t(78607),kn=t(60354),qn=t(26398),_n=t(39988),tr=t(76179),sr=t(10795),ar=t(55356),nr=t(2242),rr=t(27342),or=t(40794),er=t(28185),vr=t(64256),lr=t(10585),dr=t(88308),fr=t(76459),yr=t(39656),mr=t(91205),ir=t(73082),xr=t(54002),gr=t(28979),hr=t(39868),jr=t(84387),cr=t(21337),Zr=t(6857),Sr=t(20215),Nr=t(60995),Ir=t(13730),Tr=t(55517),Cr=t(97594),Rr=t(15764),Ar=t(5714),Or=t(61034),Pr=t(23765),Ur=t(74891),Lr=t(46777),zr=t(31738),Dr=t(70341),Gr=t(34956),Fr=t(23732),Mr=t(79816),Br=t(16267),Wr=t(12595),Hr=t(61267),Vr=t(11964),$r=t(44371),Xr=t(42195),Er=t(96054),Jr=t(62563),Yr=t(10959),Kr=t(94928),Qr=t(58934),pr=t(1819),ur=t(6450),br=t(10477),wr=t(42193),kr=t(36754),qr=t(62245),_r=t(58883),to=t(65577),so=t(72554),ao=t(40790),no=t(8720),ro=t(9070),oo=t(44538),eo=t(48900),vo=t(55065),lo=t(66543),fo=t(62681),yo=t(92367),mo=t(40347),io=t(18033),xo=t(27858),go=t(79666),ho=t(36594),jo=t(5484),co=t(7271),Zo=t(26755),So=t(12311),No=t(62462),Io=t(58496),To=t(49757),Co=t(29888),Ro=t(34892),Ao=t(98725),Oo=t(27211),Po=t(50809),Uo=t(61043),Lo=t(43583),zo=t(66059),Do=t(39921),Go=t(47029),Fo=t(2253),Mo=t(37231),Bo=t(55643),Wo=t(16424),Ho=t(13157),Vo=t(82482),$o=t(69332),Xo=t(45410),Eo=t(20016),Jo=t(53585),Yo=t(26507),Ko=t(35030),Qo=t(65132),po=t(4034),uo=t(32777),bo=t(72132),wo=t(37177),ko=t(75596),qo=t(47392),_o=t(93679),te=t(6233),se=t(1026),ae=t(1404),ne=t(82530),re=t(18441),oe=t(58941),ee=t(59709),ve=t(8475),le=t(67899),de=t(67303),fe=t(37751),ye=t(93044),me=t(15003),ie=t(77288),xe=t(55939),ge=t(91490),he=t(87645),je=t(8507),ce=t(86469),Ze=t(11553),Se=t(28011),Ne=t(60469),Ie=t(46132),Te=t(33098),Ce=t(58532),Re=t(11263),Ae=t(55431),Oe=t(64271),Pe=t(73724),Ue=t(36867),Le=t(25712),ze=t(85826),De=t(94170),Ge=t(75586),Fe=t(74228),Me=t(72442),Be=t(65901),We=t(43793),He=t(46298),Ve=t(15802),$e=t(9236),Xe=t(9113),Ee=t(70085),Je=t(48715),Ye=t(3639),Ke=t(17566),Qe=t(98177),pe=t(54577),ue=t(43808),be=t(22246),we=t(21215),ke=t(81022),qe=t(71432),_e=t(46556),tv=t(53204),sv=t(39944),av=t(10088),nv=t(65672),rv=t(79796),ov=t(67070),ev=t(30933),vv=t(17882),lv=t(66007),dv=t(62968),fv=t(78627),yv=t(6855),mv=t(32437),iv=t(98533),xv=t(37406),gv=t(34310),hv=t(43947),jv=t(26496),cv=t(31730),Zv=t(56610),Sv=t(14379),Nv=t(23254),Iv=t(72307),Tv=t(7899),Cv=t(38680),Rv=t(71284),Av=t(90854),Ov=t(44562),Pv=t(15906),Uv=t(3456),Lv=t(10213),zv=t(89625),Dv=t(86524),Gv=t(83929),Fv=t(72281),Mv=t(33610),Bv=t(82972),Wv=t(70182),s=t(4637),Z=t(59496),jt=t(87995),ct=t(77410),O=t.n(ct),H=t(82587),V=t(71839),_=t(47498),$=t(67365),Zt=t(8098),X=t(10842),St=t(1942),tt=t(74584),st=t(77391),E=t(1324),Nt=t(44879),It=t(75694),i={wrapper:"pages_wrapper__q0g3U",btn_line:"pages_btn_line__CxNlN",btn:"pages_btn__YFbyW",no_imgs:"pages_no_imgs__Xj6JO",imgs:"pages_imgs__eY0z6",imgs_box:"pages_imgs_box__NNAR8",imgs_box_box_sticky:"pages_imgs_box_box_sticky__icviI",imgs_preview:"pages_imgs_preview__1RXX0",preview:"pages_preview__SDksv",preview_loading:"pages_preview_loading__-3zOn",j_cropper:"pages_j_cropper__cRRS3",result:"pages_result__LVFbX",can_not_save:"pages_can_not_save__iPqIx",cropper_box:"pages_cropper_box__STbly",scroll_area:"pages_scroll_area__dVb0M",center_loading:"pages_center_loading__rVQNH"},Tt=t(69708),Ct=t(46934),Rt=t(55883),At=t(64347);function at(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function Ot(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){at(v,o,d,y,l,"next",f)}function l(f){at(v,o,d,y,l,"throw",f)}y(void 0)})}}var Pt=function(){var a=Ot(O().mark(function r(n){return O().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",new Promise(function(v,y){var l=new Image;l.src=n,l.onload=function(){v({width:l.width,height:l.height})},l.onerror=function(){v({width:-1,height:-1})}}));case 1:case"end":return d.stop()}},r)}));return function(n){return a.apply(this,arguments)}}(),Ut=t(33346),Lt=t(19803),zt=t.n(Lt),Dt=t(11227),Gt=t(7700),Ft=function(a){var r=a.url,n=a.filename,o=a.type;if(!(n==null?void 0:n.length)&&(o==null?void 0:o.length)&&o.includes("/")){var d=o.split("/")[1];n="".concat((0,Gt.Z)("unknown_"),".").concat(d==="jpeg"?"jpg":d)}(0,Dt.saveAs)(r,n)};function nt(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function Mt(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){nt(v,o,d,y,l,"next",f)}function l(f){nt(v,o,d,y,l,"throw",f)}y(void 0)})}}var Bt=function(){var a=Mt(O().mark(function r(n){var o;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,fetch(n);case 2:return v.next=4,v.sent.blob();case 4:return o=v.sent,v.abrupt("return",URL.createObjectURL(o));case 6:case"end":return v.stop()}},r)}));return function(n){return a.apply(this,arguments)}}(),Wt=t(35774),Ht=t(8260),Vt=t(67348),$t={footer:"Footer_footer__V8Lu+"},Xt=function(){return(0,s.jsxs)("div",{className:$t.footer,children:[(0,s.jsx)("div",{children:"MIT Licensed | Copyright \xA9 2022"}),(0,s.jsx)("div",{children:"By fz6m"})]})},J={title:"Title_title__GtFh1",first:"Title_first__bANMo",desc:"Title_desc__WP2h1"},Et=function(){return(0,s.jsxs)("div",{className:J.title,children:[(0,s.jsx)("div",{className:J.first,children:"\u{1F430} USAGI"}),(0,s.jsx)("div",{className:J.desc,children:"avatar image cropper"})]})};function rt(a,r){(r==null||r>a.length)&&(r=a.length);for(var n=0,o=new Array(r);n<r;n++)o[n]=a[n];return o}function Jt(a){if(Array.isArray(a))return a}function ot(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function et(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){ot(v,o,d,y,l,"next",f)}function l(f){ot(v,o,d,y,l,"throw",f)}y(void 0)})}}function Yt(a,r){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var o=[],d=!0,v=!1,y,l;try{for(n=n.call(a);!(d=(y=n.next()).done)&&(o.push(y.value),!(r&&o.length===r));d=!0);}catch(f){v=!0,l=f}finally{try{!d&&n.return!=null&&n.return()}finally{if(v)throw l}}return o}}function Kt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(a,r){return Jt(a)||Yt(a,r)||Qt(a,r)||Kt()}function Qt(a,r){if(!!a){if(typeof a=="string")return rt(a,r);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(a,r)}}var vt="90%",pt=function(){var a=P((0,Z.useState)(""),2),r=a[0],n=a[1],o=P((0,Z.useState)(!1),2),d=o[0],v=o[1],y=P((0,Z.useState)(),2),l=y[0],f=y[1],U=P((0,Z.useState)(""),2),L=U[0],dt=U[1],ft=P((0,Z.useState)(),2),N=ft[0],kt=ft[1],yt=P((0,Z.useState)(!1),2),Y=yt[0],K=yt[1],mt=P((0,Z.useState)(!1),2),qt=mt[0],_t=mt[1],it=(0,Z.useRef)(),B=(0,Ut.Z)(it),G=Boolean(r.length),ts=function(){var z=et(O().mark(function C(c){var Q,R,F,ht;return O().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return v(!0),j.prev=1,Q=new Blob([c],{type:c.type}),R=URL.createObjectURL(Q),j.next=6,Pt(R);case 6:if(F=j.sent,!(F.width<=0||F.height<=0)){j.next=10;break}return H.Z.error("Parse image error"),j.abrupt("return");case 10:ht=(0,Tt.Z)(B==null?void 0:B.width)?B.width/F.width*F.height-5:500,kt({filename:c.name,type:c.type}),f(ht),n(R),j.next=19;break;case 16:j.prev=16,j.t0=j.catch(1),H.Z.error("Load image process error");case 19:return j.prev=19,v(!1),j.finish(19);case 22:case"end":return j.stop()}},C,null,[[1,16,19,22]])}));return function(c){return z.apply(this,arguments)}}(),ss=function(){n(""),v(!1),f(void 0),dt("")},xt=P((0,Z.useState)(!1),2),as=xt[0],gt=xt[1],ns=function(){gt(!0)},W=(0,Z.useRef)(),rs=function(){K(!0);try{var z=W==null?void 0:W.current,C=z==null?void 0:z.cropper,c=C==null?void 0:C.getCroppedCanvas().toDataURL(N==null?void 0:N.type,92);(c==null?void 0:c.length)&&dt(c)}finally{K(!1)}},os=(0,Z.useCallback)((0,Ct.Z)(rs,500),[]),es=function(){Y||K(!0),os()},vs=function(){var z=et(O().mark(function C(){var c;return O().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return H.Z.info("Downloading..."),R.next=3,Bt(L);case 3:c=R.sent,console.log("imgInfo: ",N),Ft({url:c,filename:N==null?void 0:N.filename,type:N==null?void 0:N.type});case 6:case"end":return R.stop()}},C)}));return function(){return z.apply(this,arguments)}}();return(0,s.jsxs)("div",{children:[(0,s.jsx)(Et,{}),(0,s.jsx)(V.Z,{}),(0,s.jsxs)("div",{className:i.wrapper,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(_.Z.Title,{style:{marginTop:0},heading:6,children:"Upload Image"}),(0,s.jsxs)($.Z.Row,{className:i.btn_line,children:[(0,s.jsx)(Zt.Z,{accept:"image/jpeg,image/png,image/webp",multiple:!1,fileList:[],showUploadList:!1,action:"",customRequest:Rt.Z,beforeUpload:ts,disabled:G,className:i.btn,children:(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Wt.Z,{}),type:"primary",disabled:G,children:"Select"})}),(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Ht.Z,{}),disabled:!G,className:i.btn,onClick:ss,children:"Clear"}),(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Vt.Z,{}),onClick:ns,className:i.btn,disabled:!G,loading:Y,type:"secondary",status:"success",children:"Save"})]}),(0,s.jsx)(V.Z,{}),(0,s.jsx)(_.Z.Title,{heading:6,children:"Crop Image"}),(0,s.jsx)("div",{style:{width:vt},ref:it}),(0,s.jsx)($.Z.Row,{className:i.imgs,style:{display:l?void 0:"none"},children:(0,s.jsx)(St.Z,{offsetTop:0,onChange:_t,children:(0,s.jsx)("div",{className:zt()(i.imgs_box,qt&&i.imgs_box_sticky),children:!(L==null?void 0:L.length)&&G?(0,s.jsxs)("div",{className:i.no_imgs,children:[(0,s.jsx)(tt.Z,{className:i.preview_loading,text:!1,image:{shape:"circle"},animation:!0}),(0,s.jsx)(tt.Z,{className:i.preview_loading,image:{shape:"circle"},text:!1,animation:!0})]}):(0,s.jsx)(st.Z,{loading:Y,style:{display:"block"},children:(0,s.jsxs)("div",{className:i.imgs_preview,children:[(0,s.jsx)("div",{className:i.preview,style:{borderRadius:"50%"},children:(0,s.jsx)("img",{src:L})}),(0,s.jsx)("div",{className:i.preview,style:{borderRadius:16},children:(0,s.jsx)("img",{src:L})})]})})})})}),(0,s.jsx)($.Z.Row,{children:d?(0,s.jsx)(st.Z,{className:i.center_loading}):(0,s.jsx)("div",{children:l&&l>0?(0,s.jsxs)("div",{className:i.cropper_box,children:[(0,s.jsx)(At.Z,{src:r,style:{height:l,width:vt},aspectRatio:1/1,guides:!1,crop:es,ref:W,className:i.j_cropper}),(0,s.jsx)(E.Z,{showIcon:!1,className:i.scroll_area,content:"scroll area"})]}):(0,s.jsx)("div",{children:"Please select some one image"})})}),(0,s.jsx)(Nt.Z,{visible:as,title:"Croper Result",style:{width:"90%"},okText:"Close",maskClosable:!1,closable:!1,onOk:function(){gt(!1)},cancelButtonProps:{style:{display:"none"}},children:(0,s.jsxs)("div",{className:i.result,children:[(0,s.jsx)(E.Z,{type:"success",content:(0,s.jsx)("div",{children:"Please long press to save"}),style:{marginBottom:10}}),(0,s.jsx)("img",{src:L,alt:"cropper result",style:{width:"60%"}}),(0,s.jsx)(V.Z,{}),(0,s.jsx)(E.Z,{type:"warning",content:(0,s.jsxs)("div",{className:i.can_not_save,children:[(0,s.jsx)("div",{children:"Can't save? Try"}),(0,s.jsx)(It.Z,{style:{marginLeft:3},onClick:vs,children:"Download"})]})})]})})]}),(0,s.jsx)(Xt,{})]})]})},ut=t(58925),lt=t(97376);function bt(){return(0,s.jsx)(ut.VK,{children:(0,s.jsx)(lt.Z5,{children:(0,s.jsx)(lt.AW,{path:"/",element:(0,s.jsx)(pt,{})})})})}var wt=bt,Hv=t(13980),Vv=t(46901),$v=t(74968);jt.render((0,s.jsx)(wt,{}),document.getElementById("root"))}},u={};function m(e){var x=u[e];if(x!==void 0)return x.exports;var t=u[e]={exports:{}};return p[e].call(t.exports,t,t.exports,m),t.exports}m.m=p,function(){var e=[];m.O=function(x,t,I,h){if(t){h=h||0;for(var g=e.length;g>0&&e[g-1][2]>h;g--)e[g]=e[g-1];e[g]=[t,I,h];return}for(var A=1/0,g=0;g<e.length;g++){for(var t=e[g][0],I=e[g][1],h=e[g][2],D=!0,S=0;S<t.length;S++)(h&!1||A>=h)&&Object.keys(m.O).every(function(q){return m.O[q](t[S])})?t.splice(S--,1):(D=!1,h<A&&(A=h));if(D){e.splice(g--,1);var T=I();T!==void 0&&(x=T)}}return x}}(),function(){m.n=function(e){var x=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(x,{a:x}),x}}(),function(){m.d=function(e,x){for(var t in x)m.o(x,t)&&!m.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:x[t]})}}(),function(){m.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window=="object")return window}}()}(),function(){m.o=function(e,x){return Object.prototype.hasOwnProperty.call(e,x)}}(),function(){var e={913:0};m.O.j=function(I){return e[I]===0};var x=function(I,h){var g=h[0],A=h[1],D=h[2],S,T,M=0;if(g.some(function(k){return e[k]!==0})){for(S in A)m.o(A,S)&&(m.m[S]=A[S]);if(D)var w=D(m)}for(I&&I(h);M<g.length;M++)T=g[M],m.o(e,T)&&e[T]&&e[T][0](),e[T]=0;return m.O(w)},t=self.webpackChunk_xn_sakina_usagi=self.webpackChunk_xn_sakina_usagi||[];t.forEach(x.bind(null,0)),t.push=x.bind(null,t.push.bind(t))}();var b=m.O(void 0,[194,426,461,114],function(){return m(89037)});b=m.O(b)})();
