(function(){"use strict";var p={89037:function(e,x,t){var I=t(43963),h=t(61088),g=t(16293),A=t(5398),D=t(42195),S=t(95990),T=t(55065),M=t(91490),w=t(11888),k=t(22246),ls=t(12595),q=t(77288),ds=t(97588),fs=t(68338),ys=t(10088),ms=t(42193),is=t(76778),xs=t(65672),gs=t(37884),hs=t(27927),js=t(67615),cs=t(72697),Zs=t(35357),Ss=t(64256),Ns=t(26755),Is=t(17613),Ts=t(28979),Cs=t(24532),Rs=t(1026),As=t(39868),Os=t(37475),Ps=t(74417),Us=t(88308),Ls=t(70085),zs=t(34309),Ds=t(2253),Gs=t(47655),Fs=t(47392),Ms=t(44303),Bs=t(5484),Ws=t(39248),Hs=t(83303),Vs=t(86050),$s=t(64271),Xs=t(7271),Es=t(91825),Js=t(10959),Ys=t(91744),Ks=t(97009),Qs=t(80052),ps=t(72442),us=t(85826),bs=t(39836),ws=t(20421),ks=t(48900),qs=t(54002),_s=t(63649),ta=t(24699),sa=t(76407),aa=t(23254),na=t(55643),ra=t(23765),oa=t(36485),ea=t(20215),va=t(77323),la=t(45514),da=t(43793),fa=t(27342),ya=t(3072),ma=t(2242),ia=t(34892),xa=t(44650),ga=t(61267),ha=t(26398),ja=t(70341),ca=t(6855),Za=t(6450),Sa=t(7705),Na=t(53204),Ia=t(94928),Ta=t(56594),Ca=t(10079),Ra=t(89013),Aa=t(34956),Oa=t(98533),Pa=t(79493),Ua=t(99226),La=t(31738),za=t(93044),Da=t(62563),Ga=t(36754),Fa=t(87645),Ma=t(73082),Ba=t(32777),Wa=t(9236),Ha=t(3766),Va=t(93544),$a=t(31730),Xa=t(7899),Ea=t(49191),Ja=t(44371),Ya=t(72132),Ka=t(17850),Qa=t(8475),pa=t(47029),ua=t(62968),ba=t(93679),wa=t(66059),ka=t(44562),qa=t(91632),_a=t(37751),tn=t(56209),sn=t(62681),an=t(90854),nn=t(98584),rn=t(84387),on=t(75586),en=t(52490),vn=t(98725),ln=t(14379),dn=t(60995),fn=t(79796),yn=t(79268),mn=t(15802),xn=t(43484),gn=t(63661),hn=t(75596),jn=t(25637),cn=t(49557),Zn=t(52496),Sn=t(67899),Nn=t(26423),In=t(67070),Tn=t(5714),Cn=t(55998),Rn=t(72554),An=t(15003),On=t(62453),Pn=t(46556),Un=t(19896),Ln=t(45329),zn=t(11964),Dn=t(32437),Gn=t(85025),Fn=t(44866),Mn=t(34828),Bn=t(66007),Wn=t(94853),Hn=t(89897),Vn=t(10795),$n=t(37436),Xn=t(53585),En=t(86524),Jn=t(79853),Yn=t(3456),Kn=t(94497),Qn=t(78607),pn=t(35030),un=t(76119),bn=t(79666),wn=t(30933),kn=t(50809),qn=t(84137),_n=t(39032),tr=t(27127),sr=t(91582),ar=t(44538),nr=t(21215),rr=t(82530),or=t(62098),er=t(49026),vr=t(4902),lr=t(35139),dr=t(91284),fr=t(92),yr=t(7077),mr=t(96054),ir=t(36867),xr=t(47873),gr=t(18441),hr=t(64149),jr=t(89625),cr=t(21225),Zr=t(53397),Sr=t(55026),Nr=t(86469),Ir=t(58496),Tr=t(58544),Cr=t(29888),Rr=t(55517),Ar=t(7435),Or=t(85391),Pr=t(22170),Ur=t(70182),Lr=t(51591),zr=t(65132),Dr=t(66543),Gr=t(74891),Fr=t(21208),Mr=t(28011),Br=t(81022),Wr=t(99153),Hr=t(60469),Vr=t(8720),$r=t(31720),Xr=t(37891),Er=t(17550),Jr=t(40794),Yr=t(72281),Kr=t(18550),Qr=t(91212),pr=t(17566),ur=t(57060),br=t(96810),wr=t(91205),kr=t(43808),qr=t(47559),_r=t(52847),to=t(76179),so=t(12311),ao=t(10708),no=t(98177),ro=t(74906),oo=t(33321),eo=t(43947),vo=t(1819),lo=t(3497),fo=t(3355),yo=t(21337),mo=t(34266),io=t(6857),xo=t(55356),go=t(83709),ho=t(33610),jo=t(8507),co=t(5566),Zo=t(60420),So=t(43583),No=t(39921),Io=t(27858),To=t(92367),Co=t(11553),Ro=t(56373),Ao=t(58941),Oo=t(40790),Po=t(48715),Uo=t(72307),Lo=t(34330),zo=t(34811),Do=t(33098),Go=t(46132),Fo=t(61034),Mo=t(97883),Bo=t(46777),Wo=t(69332),Ho=t(71284),Vo=t(60009),$o=t(39656),Xo=t(28379),Eo=t(29484),Jo=t(87281),Yo=t(20016),Ko=t(47860),Qo=t(97778),po=t(97562),uo=t(58934),bo=t(45410),wo=t(34310),ko=t(54204),qo=t(23732),_o=t(15600),te=t(97594),se=t(64991),ae=t(59709),ne=t(24398),re=t(28185),oe=t(78627),ee=t(16267),ve=t(37231),le=t(83365),de=t(95069),fe=t(94396),ye=t(9113),me=t(63221),ie=t(11263),xe=t(37783),ge=t(6233),he=t(58532),je=t(46298),ce=t(37406),Ze=t(17882),Se=t(65770),Ne=t(10213),Ie=t(39988),Te=t(73724),Ce=t(55939),Re=t(95e3),Ae=t(76826),Oe=t(54577),Pe=t(10585),Ue=t(71432),Le=t(13730),ze=t(25015),De=t(76459),Ge=t(50349),Fe=t(67909),Me=t(49757),Be=t(98065),We=t(15764),He=t(18033),Ve=t(39095),$e=t(13421),Xe=t(62245),Ee=t(67303),Je=t(7943),Ye=t(39411),Ke=t(65901),Qe=t(38208),pe=t(55431),ue=t(15906),be=t(25712),we=t(39852),ke=t(79816),qe=t(10477),_e=t(16424),tv=t(56610),sv=t(52281),av=t(61043),nv=t(31939),rv=t(27211),ov=t(1120),ev=t(1404),vv=t(52731),lv=t(37177),dv=t(13157),fv=t(82972),yv=t(38213),mv=t(9070),iv=t(58883),xv=t(7216),gv=t(62462),hv=t(60354),jv=t(50190),cv=t(94170),Zv=t(76198),Sv=t(45007),Nv=t(74228),Iv=t(4034),Tv=t(40347),Cv=t(36594),Rv=t(26496),Av=t(39944),Ov=t(38680),Pv=t(3639),Uv=t(56598),Lv=t(33426),zv=t(82482),Dv=t(83929),Gv=t(72597),Fv=t(65577),Mv=t(26507),Bv=t(8244),Wv=t(61631),s=t(4637),Z=t(59496),jt=t(87995),ct=t(77410),O=t.n(ct),H=t(82587),V=t(71839),_=t(47498),$=t(67365),Zt=t(8098),X=t(10842),St=t(1942),tt=t(74584),st=t(77391),E=t(1324),Nt=t(44879),It=t(75694),i={wrapper:"pages_wrapper__q0g3U",btn_line:"pages_btn_line__CxNlN",btn:"pages_btn__YFbyW",no_imgs:"pages_no_imgs__Xj6JO",imgs:"pages_imgs__eY0z6",imgs_box:"pages_imgs_box__NNAR8",imgs_box_box_sticky:"pages_imgs_box_box_sticky__icviI",imgs_preview:"pages_imgs_preview__1RXX0",preview:"pages_preview__SDksv",preview_loading:"pages_preview_loading__-3zOn",j_cropper:"pages_j_cropper__cRRS3",result:"pages_result__LVFbX",can_not_save:"pages_can_not_save__iPqIx",cropper_box:"pages_cropper_box__STbly",scroll_area:"pages_scroll_area__dVb0M",center_loading:"pages_center_loading__rVQNH"},Tt=t(69708),Ct=t(46934),Rt=t(55883),At=t(64347);function at(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function Ot(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){at(v,o,d,y,l,"next",f)}function l(f){at(v,o,d,y,l,"throw",f)}y(void 0)})}}var Pt=function(){var a=Ot(O().mark(function r(n){return O().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",new Promise(function(v,y){var l=new Image;l.src=n,l.onload=function(){v({width:l.width,height:l.height})},l.onerror=function(){v({width:-1,height:-1})}}));case 1:case"end":return d.stop()}},r)}));return function(n){return a.apply(this,arguments)}}(),Ut=t(33346),Lt=t(19803),zt=t.n(Lt),Dt=t(11227),Gt=t(7700),Ft=function(a){var r=a.url,n=a.filename,o=a.type;if(!(n==null?void 0:n.length)&&(o==null?void 0:o.length)&&o.includes("/")){var d=o.split("/")[1];n="".concat((0,Gt.Z)("unknown_"),".").concat(d==="jpeg"?"jpg":d)}(0,Dt.saveAs)(r,n)};function nt(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function Mt(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){nt(v,o,d,y,l,"next",f)}function l(f){nt(v,o,d,y,l,"throw",f)}y(void 0)})}}var Bt=function(){var a=Mt(O().mark(function r(n){var o;return O().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,fetch(n);case 2:return v.next=4,v.sent.blob();case 4:return o=v.sent,v.abrupt("return",URL.createObjectURL(o));case 6:case"end":return v.stop()}},r)}));return function(n){return a.apply(this,arguments)}}(),Wt=t(35774),Ht=t(8260),Vt=t(67348),$t={footer:"Footer_footer__V8Lu+"},Xt=function(){return(0,s.jsxs)("div",{className:$t.footer,children:[(0,s.jsx)("div",{children:"MIT Licensed | Copyright \xA9 2022"}),(0,s.jsx)("div",{children:"By fz6m"})]})},J={title:"Title_title__GtFh1",first:"Title_first__bANMo",desc:"Title_desc__WP2h1"},Et=function(){return(0,s.jsxs)("div",{className:J.title,children:[(0,s.jsx)("div",{className:J.first,children:"\u{1F430} USAGI"}),(0,s.jsx)("div",{className:J.desc,children:"avatar image cropper"})]})};function rt(a,r){(r==null||r>a.length)&&(r=a.length);for(var n=0,o=new Array(r);n<r;n++)o[n]=a[n];return o}function Jt(a){if(Array.isArray(a))return a}function ot(a,r,n,o,d,v,y){try{var l=a[v](y),f=l.value}catch(U){n(U);return}l.done?r(f):Promise.resolve(f).then(o,d)}function et(a){return function(){var r=this,n=arguments;return new Promise(function(o,d){var v=a.apply(r,n);function y(f){ot(v,o,d,y,l,"next",f)}function l(f){ot(v,o,d,y,l,"throw",f)}y(void 0)})}}function Yt(a,r){var n=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var o=[],d=!0,v=!1,y,l;try{for(n=n.call(a);!(d=(y=n.next()).done)&&(o.push(y.value),!(r&&o.length===r));d=!0);}catch(f){v=!0,l=f}finally{try{!d&&n.return!=null&&n.return()}finally{if(v)throw l}}return o}}function Kt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(a,r){return Jt(a)||Yt(a,r)||Qt(a,r)||Kt()}function Qt(a,r){if(!!a){if(typeof a=="string")return rt(a,r);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(a,r)}}var vt="90%",pt=function(){var a=P((0,Z.useState)(""),2),r=a[0],n=a[1],o=P((0,Z.useState)(!1),2),d=o[0],v=o[1],y=P((0,Z.useState)(),2),l=y[0],f=y[1],U=P((0,Z.useState)(""),2),L=U[0],dt=U[1],ft=P((0,Z.useState)(),2),N=ft[0],kt=ft[1],yt=P((0,Z.useState)(!1),2),Y=yt[0],K=yt[1],mt=P((0,Z.useState)(!1),2),qt=mt[0],_t=mt[1],it=(0,Z.useRef)(),B=(0,Ut.Z)(it),G=Boolean(r.length),ts=function(){var z=et(O().mark(function C(c){var Q,R,F,ht;return O().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return v(!0),j.prev=1,Q=new Blob([c],{type:c.type}),R=URL.createObjectURL(Q),j.next=6,Pt(R);case 6:if(F=j.sent,!(F.width<=0||F.height<=0)){j.next=10;break}return H.Z.error("Parse image error"),j.abrupt("return");case 10:ht=(0,Tt.Z)(B==null?void 0:B.width)?B.width/F.width*F.height-5:500,kt({filename:c.name,type:c.type}),f(ht),n(R),j.next=19;break;case 16:j.prev=16,j.t0=j.catch(1),H.Z.error("Load image process error");case 19:return j.prev=19,v(!1),j.finish(19);case 22:case"end":return j.stop()}},C,null,[[1,16,19,22]])}));return function(c){return z.apply(this,arguments)}}(),ss=function(){n(""),v(!1),f(void 0),dt("")},xt=P((0,Z.useState)(!1),2),as=xt[0],gt=xt[1],ns=function(){gt(!0)},W=(0,Z.useRef)(),rs=function(){K(!0);try{var z=W==null?void 0:W.current,C=z==null?void 0:z.cropper,c=C==null?void 0:C.getCroppedCanvas().toDataURL(N==null?void 0:N.type,92);(c==null?void 0:c.length)&&dt(c)}finally{K(!1)}},os=(0,Z.useCallback)((0,Ct.Z)(rs,500),[]),es=function(){Y||K(!0),os()},vs=function(){var z=et(O().mark(function C(){var c;return O().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return H.Z.info("Downloading..."),R.next=3,Bt(L);case 3:c=R.sent,console.log("imgInfo: ",N),Ft({url:c,filename:N==null?void 0:N.filename,type:N==null?void 0:N.type});case 6:case"end":return R.stop()}},C)}));return function(){return z.apply(this,arguments)}}();return(0,s.jsxs)("div",{children:[(0,s.jsx)(Et,{}),(0,s.jsx)(V.Z,{}),(0,s.jsxs)("div",{className:i.wrapper,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(_.Z.Title,{style:{marginTop:0},heading:6,children:"Upload Image"}),(0,s.jsxs)($.Z.Row,{className:i.btn_line,children:[(0,s.jsx)(Zt.Z,{accept:"image/jpeg,image/png,image/webp",multiple:!1,fileList:[],showUploadList:!1,action:"",customRequest:Rt.Z,beforeUpload:ts,disabled:G,className:i.btn,children:(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Wt.Z,{}),type:"primary",disabled:G,children:"Select"})}),(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Ht.Z,{}),disabled:!G,className:i.btn,onClick:ss,children:"Clear"}),(0,s.jsx)(X.Z,{icon:(0,s.jsx)(Vt.Z,{}),onClick:ns,className:i.btn,disabled:!G,loading:Y,type:"secondary",status:"success",children:"Save"})]}),(0,s.jsx)(V.Z,{}),(0,s.jsx)(_.Z.Title,{heading:6,children:"Crop Image"}),(0,s.jsx)("div",{style:{width:vt},ref:it}),(0,s.jsx)($.Z.Row,{className:i.imgs,style:{display:l?void 0:"none"},children:(0,s.jsx)(St.Z,{offsetTop:0,onChange:_t,children:(0,s.jsx)("div",{className:zt()(i.imgs_box,qt&&i.imgs_box_sticky),children:!(L==null?void 0:L.length)&&G?(0,s.jsxs)("div",{className:i.no_imgs,children:[(0,s.jsx)(tt.Z,{className:i.preview_loading,text:!1,image:{shape:"circle"},animation:!0}),(0,s.jsx)(tt.Z,{className:i.preview_loading,image:{shape:"circle"},text:!1,animation:!0})]}):(0,s.jsx)(st.Z,{loading:Y,style:{display:"block"},children:(0,s.jsxs)("div",{className:i.imgs_preview,children:[(0,s.jsx)("div",{className:i.preview,style:{borderRadius:"50%"},children:(0,s.jsx)("img",{src:L})}),(0,s.jsx)("div",{className:i.preview,style:{borderRadius:13},children:(0,s.jsx)("img",{src:L})})]})})})})}),(0,s.jsx)($.Z.Row,{children:d?(0,s.jsx)(st.Z,{className:i.center_loading}):(0,s.jsx)("div",{children:l&&l>0?(0,s.jsxs)("div",{className:i.cropper_box,children:[(0,s.jsx)(At.Z,{src:r,style:{height:l,width:vt},aspectRatio:1/1,guides:!1,crop:es,ref:W,className:i.j_cropper}),(0,s.jsx)(E.Z,{showIcon:!1,className:i.scroll_area,content:"scroll area"})]}):(0,s.jsx)("div",{children:"Please select some one image"})})}),(0,s.jsx)(Nt.Z,{visible:as,title:"Croper Result",style:{width:"90%"},okText:"Close",maskClosable:!1,closable:!1,onOk:function(){gt(!1)},cancelButtonProps:{style:{display:"none"}},children:(0,s.jsxs)("div",{className:i.result,children:[(0,s.jsx)(E.Z,{type:"success",content:(0,s.jsx)("div",{children:"Please long press to save"}),style:{marginBottom:10}}),(0,s.jsx)("img",{src:L,alt:"cropper result",style:{width:"60%"}}),(0,s.jsx)(V.Z,{}),(0,s.jsx)(E.Z,{type:"warning",content:(0,s.jsxs)("div",{className:i.can_not_save,children:[(0,s.jsx)("div",{children:"Can't save? Try"}),(0,s.jsx)(It.Z,{style:{marginLeft:3},onClick:vs,children:"Download"})]})})]})})]}),(0,s.jsx)(Xt,{})]})]})},ut=t(58925),lt=t(97376);function bt(){return(0,s.jsx)(ut.VK,{children:(0,s.jsx)(lt.Z5,{children:(0,s.jsx)(lt.AW,{path:"/",element:(0,s.jsx)(pt,{})})})})}var wt=bt,Hv=t(13980),Vv=t(46901),$v=t(74968);jt.render((0,s.jsx)(wt,{}),document.getElementById("root"))}},u={};function m(e){var x=u[e];if(x!==void 0)return x.exports;var t=u[e]={exports:{}};return p[e].call(t.exports,t,t.exports,m),t.exports}m.m=p,function(){var e=[];m.O=function(x,t,I,h){if(t){h=h||0;for(var g=e.length;g>0&&e[g-1][2]>h;g--)e[g]=e[g-1];e[g]=[t,I,h];return}for(var A=1/0,g=0;g<e.length;g++){for(var t=e[g][0],I=e[g][1],h=e[g][2],D=!0,S=0;S<t.length;S++)(h&!1||A>=h)&&Object.keys(m.O).every(function(q){return m.O[q](t[S])})?t.splice(S--,1):(D=!1,h<A&&(A=h));if(D){e.splice(g--,1);var T=I();T!==void 0&&(x=T)}}return x}}(),function(){m.n=function(e){var x=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(x,{a:x}),x}}(),function(){m.d=function(e,x){for(var t in x)m.o(x,t)&&!m.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:x[t]})}}(),function(){m.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window=="object")return window}}()}(),function(){m.o=function(e,x){return Object.prototype.hasOwnProperty.call(e,x)}}(),function(){var e={913:0};m.O.j=function(I){return e[I]===0};var x=function(I,h){var g=h[0],A=h[1],D=h[2],S,T,M=0;if(g.some(function(k){return e[k]!==0})){for(S in A)m.o(A,S)&&(m.m[S]=A[S]);if(D)var w=D(m)}for(I&&I(h);M<g.length;M++)T=g[M],m.o(e,T)&&e[T]&&e[T][0](),e[T]=0;return m.O(w)},t=self.webpackChunk_xn_sakina_usagi=self.webpackChunk_xn_sakina_usagi||[];t.forEach(x.bind(null,0)),t.push=x.bind(null,t.push.bind(t))}();var b=m.O(void 0,[194,426,461,114],function(){return m(89037)});b=m.O(b)})();
